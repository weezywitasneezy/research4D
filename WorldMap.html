<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Layered Fantasy World Map</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      overflow: hidden;
      background-color: #222;
    }
    
    .container {
      display: flex;
      flex-direction: column;
      height: 100vh;
      max-height: 100vh;
    }
    
    .map-container {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: hidden;
    }
    
    svg {
      max-width: 100%;
      max-height: 100%;
    }
    
    .controls {
      background-color: #333;
      padding: 15px;
      display: flex;
      justify-content: center;
      color: white;
    }
    
    .layer-button {
      background-color: #555;
      color: white;
      border: none;
      border-radius: 5px;
      padding: 8px 15px;
      margin: 0 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    
    .layer-button:hover {
      background-color: #777;
    }
    
    .layer-button.active {
      background-color: #4CAF50;
    }
    
    .info-panel {
      position: absolute;
      top: 20px;
      right: 20px;
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 15px;
      border-radius: 5px;
      max-width: 300px;
      display: none;
    }
    
    .info-title {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 10px;
    }
    
    .info-content {
      font-size: 14px;
    }
    
    .legend {
      position: absolute;
      bottom: 20px;
      right: 20px;
      background-color: rgba(255, 255, 255, 0.8);
      padding: 10px;
      border-radius: 5px;
      font-size: 12px;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      margin-bottom: 5px;
    }
    
    .legend-color {
      width: 15px;
      height: 15px;
      margin-right: 10px;
      border: 1px solid #333;
    }
    
    .layer-title {
      position: absolute;
      top: 20px;
      left: 20px;
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 15px;
      border-radius: 5px;
      font-size: 18px;
      font-weight: bold;
    }
    
    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="map-container">
      <!-- Layer Title -->
      <div id="layer-title" class="layer-title">Surface View</div>
      
      <!-- Space Layer -->
      <svg id="space-layer" class="map-layer hidden" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <!-- Background - Deep Space -->
        <rect width="800" height="600" fill="#0a0a2a" />
        
        <!-- Stars -->
        <g id="stars">
          <!-- Dynamically generated stars will go here -->
        </g>
        
        <!-- Planet Surface (Faded) -->
        <circle cx="400" cy="400" r="200" fill="rgba(43, 87, 151, 0.3)" />
        
        <!-- Space Farms -->
        <g id="space-farms">
          <path d="M400 100 L420 80 L450 90 L470 70 L500 90 L520 70 L550 100 L530 120 L550 150 L520 160 L500 180 L470 160 L450 180 L420 160 L400 180 L380 160 L350 180 L330 160 L300 150 L320 120 L300 100 L330 80 L350 90 L380 70 Z" 
                fill="#83c5be" stroke="#006d77" stroke-width="2" />
          
          <!-- Space Farms Interior -->
          <circle cx="400" cy="120" r="15" fill="#edf6f9" />
          <circle cx="430" cy="110" r="12" fill="#edf6f9" />
          <circle cx="460" cy="130" r="13" fill="#edf6f9" />
          <circle cx="370" cy="110" r="11" fill="#edf6f9" />
          <circle cx="340" cy="130" r="14" fill="#edf6f9" />
          
          <!-- Connection line to Sky Palace (implied) -->
          <line x1="400" y1="180" x2="400" y2="300" stroke="#83c5be" stroke-width="2" stroke-dasharray="5,5" />
        </g>
        
        <!-- Space Layer Label -->
        <text x="400" y="50" font-family="Arial, sans-serif" font-weight="bold" font-size="24" fill="#fff" text-anchor="middle">Space Farms</text>
      </svg>
      
      <!-- Sky Layer -->
      <svg id="sky-layer" class="map-layer hidden" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <!-- Sky Background -->
        <rect width="800" height="600" fill="#87CEEB" />
        
        <!-- Clouds -->
        <g id="clouds">
          <ellipse cx="100" cy="100" rx="40" ry="20" fill="white" opacity="0.8" />
          <ellipse cx="300" cy="150" rx="50" ry="25" fill="white" opacity="0.8" />
          <ellipse cx="500" cy="120" rx="45" ry="22" fill="white" opacity="0.8" />
          <ellipse cx="700" cy="180" rx="55" ry="28" fill="white" opacity="0.8" />
          <ellipse cx="200" cy="200" rx="60" ry="30" fill="white" opacity="0.8" />
          <ellipse cx="600" cy="220" rx="40" ry="20" fill="white" opacity="0.8" />
        </g>
        
        <!-- Surface Outline (Faded) -->
        <path d="M550 500 L800 450 L800 500 L550 550 C520 525, 500 510, 520 490 C540 470, 550 500, 550 500 Z" fill="rgba(139, 111, 71, 0.3)" stroke="rgba(109, 86, 50, 0.3)" stroke-width="1" />
        <path d="M0 480 L100 470 L150 480 L200 490 L150 500 L0 490 Z" fill="rgba(139, 69, 19, 0.3)" stroke="rgba(109, 54, 18, 0.3)" stroke-width="1" />
        <circle cx="400" cy="500" r="50" fill="rgba(106, 123, 168, 0.3)" stroke="rgba(82, 96, 128, 0.3)" stroke-width="1" />
        
        <!-- Sky Palace (Above Seaside Capital) -->
        <g id="sky-palace">
          <path d="M580 300 L600 270 L630 260 L660 270 L680 300 L660 330 L630 340 L600 330 Z" fill="#e6c7f0" stroke="#9d4edd" stroke-width="2" />
          
          <!-- Palace Towers -->
          <path d="M590 300 L595 280 L600 300 Z" fill="#9d4edd" stroke="#7b2cbf" stroke-width="1" />
          <path d="M610 280 L615 260 L620 280 Z" fill="#9d4edd" stroke="#7b2cbf" stroke-width="1" />
          <path d="M630 275 L635 250 L640 275 Z" fill="#9d4edd" stroke="#7b2cbf" stroke-width="1" />
          <path d="M650 280 L655 260 L660 280 Z" fill="#9d4edd" stroke="#7b2cbf" stroke-width="1" />
          <path d="M670 300 L675 280 L680 300 Z" fill="#9d4edd" stroke="#7b2cbf" stroke-width="1" />
          
          <!-- Connection line to Capital -->
          <line x1="630" y1="340" x2="630" y2="400" stroke="#9d4edd" stroke-width="2" stroke-dasharray="5,5" />
        </g>
        
        <!-- Moon Palace (Above Magic Islands) -->
        <g id="moon-palace">
          <circle cx="400" cy="250" r="30" fill="#e2eafc" stroke="#abc4ff" stroke-width="2" />
          
          <!-- Moon Features -->
          <circle cx="390" cy="240" r="5" fill="#abc4ff" stroke="none" />
          <circle cx="410" cy="260" r="7" fill="#abc4ff" stroke="none" />
          <circle cx="415" cy="235" r="4" fill="#abc4ff" stroke="none" />
          
          <!-- Moon Palace Structure -->
          <path d="M385 230 L400 220 L415 230 L415 250 L400 260 L385 250 Z" fill="white" stroke="#abc4ff" stroke-width="1" />
          
          <!-- Connection line to Magic Islands -->
          <line x1="400" y1="280" x2="400" y2="300" stroke="#abc4ff" stroke-width="2" stroke-dasharray="5,5" />
        </g>
        
        <!-- The Belt (Above Smuggler's Island) -->
        <g id="the-belt">
          <path d="M320 415 L350 400 L380 415 L380 435 L350 450 L320 435 Z" fill="#ff9e00" stroke="#ca6702" stroke-width="2" />
          
          <!-- Belt Features -->
          <rect x="330" y="410" width="40" height="10" fill="#ca6702" stroke="none" />
          <rect x="330" y="430" width="40" height="10" fill="#ca6702" stroke="none" />
          
          <!-- Connection line to Smuggler's Island -->
          <line x1="350" y1="450" x2="350" y2="480" stroke="#ca6702" stroke-width="2" stroke-dasharray="5,5" />
        </g>
        
        <!-- Sky Layer Labels -->
        <text x="630" y="290" font-family="Arial, sans-serif" font-weight="bold" font-size="12" fill="#000" text-anchor="middle">Sky Palace</text>
        <text x="400" y="240" font-family="Arial, sans-serif" font-weight="bold" font-size="12" fill="#000" text-anchor="middle">Moon Palace</text>
        <text x="350" y="420" font-family="Arial, sans-serif" font-weight="bold" font-size="12" fill="#000" text-anchor="middle">The Belt</text>
      </svg>
      
      <!-- Surface Layer -->
      <svg id="surface-layer" class="map-layer" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <!-- Background - Ocean -->
        <rect width="800" height="600" fill="#2b5797" />
        
        <!-- Eastern Continent -->
        <path d="M550 100 L800 50 L800 500 L550 550 C520 450, 500 350, 520 250 C540 150, 550 100, 550 100 Z" fill="#8b6f47" stroke="#6d5632" stroke-width="2" />
        
        <!-- Western Continent (Hell's End) -->
        <path d="M0 150 L100 100 L150 200 L200 300 L150 500 L0 450 Z" fill="#8b4513" stroke="#6d3612" stroke-width="2" />
        
        <!-- Magic Islands (Center) -->
        <circle cx="400" cy="300" r="50" fill="#6a7ba8" stroke="#526080" stroke-width="2" />
        
        <!-- Forested Islands -->
        <circle cx="320" cy="250" r="25" fill="#2e8b57" stroke="#1f6b42" stroke-width="2" />
        <circle cx="350" cy="200" r="20" fill="#2e8b57" stroke="#1f6b42" stroke-width="2" />
        <circle cx="450" cy="250" r="30" fill="#2e8b57" stroke="#1f6b42" stroke-width="2" />
        <circle cx="470" cy="330" r="25" fill="#2e8b57" stroke="#1f6b42" stroke-width="2" />
        <circle cx="370" cy="370" r="22" fill="#2e8b57" stroke="#1f6b42" stroke-width="2" />
        
        <!-- Smuggler's Island -->
        <circle cx="350" cy="450" r="35" fill="#aa6c39" stroke="#8b5a2b" stroke-width="2" />
        
        <!-- Cave Islands -->
        <circle cx="300" cy="480" r="15" fill="#696969" stroke="#464646" stroke-width="2" />
        <circle cx="390" cy="500" r="18" fill="#696969" stroke="#464646" stroke-width="2" />
        <circle cx="420" cy="470" r="12" fill="#696969" stroke="#464646" stroke-width="2" />
        
        <!-- Fire Islands -->
        <circle cx="200" cy="350" r="30" fill="#cd5c5c" stroke="#a94444" stroke-width="2" />
        <circle cx="240" cy="320" r="20" fill="#cd5c5c" stroke="#a94444" stroke-width="2" />
        <circle cx="190" cy="290" r="25" fill="#cd5c5c" stroke="#a94444" stroke-width="2" />
        
        <!-- Vertical Farm Region -->
        <path d="M650 100 L700 80 L750 100 L750 150 L700 170 L650 150 Z" fill="#81c784" stroke="#4caf50" stroke-width="2" />
        
        <!-- Industrial Area -->
        <path d="M650 300 L700 280 L750 300 L750 350 L700 370 L650 350 Z" fill="#90a4ae" stroke="#607d8b" stroke-width="2" />
        
        <!-- Seaside Capital -->
        <circle cx="580" cy="400" r="20" fill="#ffeb3b" stroke="#ffc107" stroke-width="2" />
        
        <!-- Region labels -->
        <g font-family="Arial, sans-serif" font-weight="bold">
          <!-- Eastern Continent Regions -->
          <text x="700" y="130" font-size="14" fill="#000">Vertical Farm Region</text>
          <text x="700" y="320" font-size="14" fill="#000">Industrial Area</text>
          <text x="580" y="400" font-size="14" fill="#000" text-anchor="middle">Seaside Capital</text>
          
          <!-- Center Regions -->
          <text x="400" y="300" font-size="14" fill="#fff" text-anchor="middle">Magic Islands</text>
          <text x="410" y="250" font-size="12" fill="#000" text-anchor="middle">Forest Farms</text>
          
          <!-- Western Regions -->
          <text x="100" y="300" font-size="14" fill="#fff" text-anchor="middle">Hell's End</text>
          <text x="190" y="340" font-size="12" fill="#fff" text-anchor="middle">Fire Islands</text>
          
          <!-- Southern Regions -->
          <text x="350" y="450" font-size="12" fill="#000" text-anchor="middle">Smuggler's</text>
          <text x="350" y="465" font-size="12" fill="#000" text-anchor="middle">Island</text>
        </g>
        
        <!-- Capital Cities (marked with stars) -->
        <g fill="#ffcc00" stroke="#000" stroke-width="1">
          <!-- Seaside Capital -->
          <path d="M580 400 l5 10 10 0 -8 6 3 10 -10 -5 -10 5 3 -10 -8 -6 10 0 z" />
          
          <!-- Magic Islands Capital -->
          <path d="M400 300 l5 10 10 0 -8 6 3 10 -10 -5 -10 5 3 -10 -8 -6 10 0 z" />
          
          <!-- Smuggler's Capital -->
          <path d="M350 450 l5 10 10 0 -8 6 3 10 -10 -5 -10 5 3 -10 -8 -6 10 0 z" />
          
          <!-- Hell's End Gate Capital -->
          <path d="M110 300 l5 10 10 0 -8 6 3 10 -10 -5 -10 5 3 -10 -8 -6 10 0 z" />
        </g>
        
        <!-- Indicators for underground areas -->
        <g stroke="#fff" stroke-width="1" stroke-dasharray="3,3" fill="none">
          <circle cx="700" cy="325" r="25" /> <!-- Mines indicator -->
          <circle cx="580" cy="420" r="25" /> <!-- Sewers indicator -->
          <circle cx="350" cy="470" r="40" /> <!-- Cave system indicator -->
          <circle cx="400" cy="320" r="55" /> <!-- Atlantis indicator -->
        </g>
      </svg>
      
      <!-- Underground Layer -->
      <svg id="underground-layer" class="map-layer hidden" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <!-- Background - Earth -->
        <rect width="800" height="600" fill="#3c2f2f" />
        
        <!-- Surface Outline (Faded) -->
        <path d="M550 100 L800 50 L800 500 L550 550 C520 450, 500 350, 520 250 C540 150, 550 100, 550 100 Z" fill="rgba(139, 111, 71, 0.2)" stroke="rgba(109, 86, 50, 0.2)" stroke-width="1" />
        <path d="M0 150 L100 100 L150 200 L200 300 L150 500 L0 450 Z" fill="rgba(139, 69, 19, 0.2)" stroke="rgba(109, 54, 18, 0.2)" stroke-width="1" />
        <circle cx="400" cy="300" r="50" fill="rgba(106, 123, 168, 0.2)" stroke="rgba(82, 96, 128, 0.2)" stroke-width="1" />
        <circle cx="350" cy="450" r="35" fill="rgba(170, 108, 57, 0.2)" stroke="rgba(139, 90, 43, 0.2)" stroke-width="1" />
        
        <!-- Mines (Under Industrial Area) -->
        <g id="mines">
          <path d="M650 300 L670 280 L720 290 L750 320 L740 360 L700 380 L660 360 L650 330 Z" fill="#808080" stroke="#505050" stroke-width="2" />
          
          <!-- Mine Shafts -->
          <line x1="660" y1="300" x2="670" y2="330" stroke="#505050" stroke-width="3" />
          <line x1="680" y1="290" x2="690" y2="350" stroke="#505050" stroke-width="3" />
          <line x1="700" y1="295" x2="710" y2="340" stroke="#505050" stroke-width="3" />
          <line x1="720" y1="310" x2="720" y2="350" stroke="#505050" stroke-width="3" />
          
          <!-- Ore Deposits -->
          <circle cx="665" cy="340" r="5" fill="#FFD700" /> <!-- Gold -->
          <circle cx="685" cy="360" r="6" fill="#C0C0C0" /> <!-- Silver -->
          <circle cx="705" cy="350" r="7" fill="#B87333" /> <!-- Copper -->
          <circle cx="725" cy="330" r="5" fill="#4682B4" /> <!-- Rare minerals -->
        </g>
        
        <!-- Sewers (Under Capital) -->
        <g id="sewers">
          <path d="M550 380 L570 370 L600 380 L620 400 L600 420 L570 430 L550 420 L540 400 Z" fill="#4b5320" stroke="#2f3a0d" stroke-width="2" />
          
          <!-- Sewer Channels -->
          <line x1="550" y1="380" x2="600" y2="420" stroke="#2f3a0d" stroke-width="2" />
          <line x1="570" y1="370" x2="570" y2="430" stroke="#2f3a0d" stroke-width="2" />
          <line x1="600" y1="380" x2="550" y2="420" stroke="#2f3a0d" stroke-width="2" />
          
          <!-- Mutant Flora -->
          <circle cx="560" cy="390" r="5" fill="#7fff00" />
          <circle cx="580" cy="400" r="6" fill="#7fff00" />
          <circle cx="560" cy="410" r="4" fill="#7fff00" />
          
          <!-- Mutant Fauna -->
          <circle cx="590" cy="390" r="3" fill="#ff00ff" />
          <circle cx="600" cy="410" r="4" fill="#ff00ff" />
          <circle cx="580" cy="420" r="3" fill="#ff00ff" />
        </g>
        
        <!-- Cave System (Under Smuggler's Island) -->
        <g id="cave-system">
          <path d="M320 430 L340 420 L370 425 L380 450 L370 480 L340 490 L310 475 L300 450 Z" fill="#696969" stroke="#404040" stroke-width="2" />
          
          <!-- Cave Passages -->
          <path d="M320 430 C330 440, 350 435, 360 445" fill="none" stroke="#404040" stroke-width="2" />
          <path d="M340 420 C345 440, 360 450, 370 480" fill="none" stroke="#404040" stroke-width="2" />
          <path d="M380 450 C360 460, 330 470, 310 475" fill="none" stroke="#404040" stroke-width="2" />
          
          <!-- Hidden Treasures -->
          <circle cx="335" cy="450" r="4" fill="#FFD700" />
          <circle cx="355" cy="465" r="5" fill="#FFD700" />
          <circle cx="345" cy="435" r="3" fill="#FFD700" />
        </g>
        
        <!-- Atlantis (Under Magic Islands and Water) -->
        <g id="atlantis">
          <circle cx="400" cy="300" r="70" fill="#0077b6" stroke="#023e8a" stroke-width="2" />
          
          <!-- Atlantis Structures -->
          <path d="M380 260 L390 250 L410 250 L420 260 L420 280 L410 290 L390 290 L380 280 Z" fill="#90e0ef" stroke="#00b4d8" stroke-width="1" />
          <path d="M360 290 L370 280 L380 280 L390 290 L390 310 L380 320 L370 320 L360 310 Z" fill="#90e0ef" stroke="#00b4d8" stroke-width="1" />
          <path d="M410 290 L420 280 L430 280 L440 290 L440 310 L430 320 L420 320 L410 310 Z" fill="#90e0ef" stroke="#00b4d8" stroke-width="1" />
          <path d="M390 310 L400 300 L410 310 L410 330 L400 340 L390 330 Z" fill="#90e0ef" stroke="#00b4d8" stroke-width="1" />
          
          <!-- Central Dome -->
          <circle cx="400" cy="300" r="25" fill="rgba(144, 224, 239, 0.5)" stroke="#00b4d8" stroke-width="1" />
          
          <!-- Connecting Roads -->
          <line x1="400" y1="270" x2="400" y2="290" stroke="#caf0f8" stroke-width="1" />
          <line x1="400" y1="310" x2="400" y2="330" stroke="#caf0f8" stroke-width="1" />
          <line x1="380" y1="300" x2="390" y2="300" stroke="#caf0f8" stroke-width="1" />
          <line x1="410" y1="300" x2="420" y2="300" stroke="#caf0f8" stroke-width="1" />
        </g>
        
        <!-- Underground Layer Labels -->
        <g font-family="Arial, sans-serif" font-weight="bold">
          <text x="700" y="330" font-size="14" fill="#fff">Mines</text>
          <text x="580" y="400" font-size="14" fill="#fff" text-anchor="middle">Sewers</text>
          <text x="340" y="450" font-size="14" fill="#fff" text-anchor="middle">Cave System</text>
          <text x="400" y="300" font-size="16" fill="#fff" text-anchor="middle">Atlantis</text>
        </g>
      </svg>
      
      <!-- Info Panel -->
      <div id="info-panel" class="info-panel">
        <div class="info-title">Region Name</div>
        <div class="info-content">Description of the region will appear here.</div>
      </div>
      
      <!-- Legend -->
      <div class="legend">
        <div style="font-weight: bold; margin-bottom: 8px;">Legend</div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #ffcc00;"></div>
          <div>Capital Cities</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #8b6f47;"></div>
          <div>Continents</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #2e8b57;"></div>
          <div>Forest Islands</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #6a7ba8;"></div>
          <div>Magic Islands</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #aa6c39;"></div>
          <div>Smuggler's Island</div>
        </div>
        <div class="legend-item">
          <div class="legend-color" style="background-color: #cd5c5c;"></div>
          <div>Fire Islands</div>
        </div>
      </div>
    </div>
    
    <div class="controls">
      <button id="space-button" class="layer-button">Space</button>
      <button id="sky-button" class="layer-button">Sky</button>
      <button id="surface-button" class="layer-button active">Surface</button>
      <button id="underground-button" class="layer-button">Underground</button>
    </div>
  </div>

  <script>
    // Layer switching functionality
    const layers = {
      'space': document.getElementById('space-layer'),
      'sky': document.getElementById('sky-layer'),
      'surface': document.getElementById('surface-layer'),
      'underground': document.getElementById('underground-layer')
    };
    
    const buttons = {
      'space': document.getElementById('space-button'),
      'sky': document.getElementById('sky-button'),
      'surface': document.getElementById('surface-button'),
      'underground': document.getElementById('underground-button')
    };
    
    const layerTitle = document.getElementById('layer-title');
    
    // Layer titles
    const titles = {
      'space': 'Space View',
      'sky': 'Sky View',
      'surface': 'Surface View',
      'underground': 'Underground View'
    };
    
    // Generate stars for space layer
    function generateStars() {
      const starsGroup = document.getElementById('stars');
      for (let i = 0; i < 200; i++) {
        const x = Math.random() * 800;
        const y = Math.random() * 600;
        const r = Math.random() * 1.5;
        const opacity = 0.5 + Math.random() * 0.5;
        
        const star = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        star.setAttribute("cx", x);
        star.setAttribute("cy", y);
        star.setAttribute("r", r);
        star.setAttribute("fill", "white");
        star.setAttribute("opacity", opacity);
        
        starsGroup.appendChild(star);
      }
    }
    
    generateStars();
    
    // Switch layer function
    function switchLayer(layerName) {
      // Hide all layers
      Object.values(layers).forEach(layer => {
        layer.classList.add('hidden');
      });
      
      // Show selected layer
      layers[layerName].classList.remove('hidden');
      
      // Update layer title
      layerTitle.textContent = titles[layerName];
      
      // Update button states
      Object.keys(buttons).forEach(key => {
        if (key === layerName) {
          buttons[key].classList.add('active');
        } else {
          buttons[key].classList.remove('active');
        }
      });
    }
    
    // Add click event listeners to buttons
    Object.keys(buttons).forEach(key => {
      buttons[key].addEventListener('click', () => switchLayer(key));
    });
    
    // Region information data
    const regionInfo = {
      // Surface regions
      'vertical-farm': {
        title: 'Vertical Farm Region',
        content: 'Located in the northeastern part of the eastern continent, this region specializes in high-efficiency vertical farming to provide food for the entire world. Towering agricultural structures utilize advanced technology to grow crops in stacked layers.'
      },
      'industrial-area': {
        title: 'Industrial Area',
        content: 'The industrial heart of the eastern continent, this region is dedicated to manufacturing machines and materials. Factories and processing plants operate continuously, supporting the technological needs of the world.'
      },
      'seaside-capital': {
        title: 'Seaside Capital',
        content: 'The majestic capital city on the eastern coast, serving as the primary hub for commerce and governance. Its architecture blends harmoniously with the coastal landscape, featuring promenades and harbors.'
      },
      'magic-islands': {
        title: 'Magic Islands Capital',
        content: 'The mystical center of the archipelago, where arcane energies concentrate. The capital city here is built with enchanted materials that shimmer with magical resonance, attracting scholars and practitioners of the arcane arts.'
      },
      'forest-islands': {
        title: 'Forest Islands',
        content: 'A collection of heavily forested islands surrounding the Magic Islands Capital. These lush environments are home to diverse flora and fauna, including rare magical species found nowhere else.'
      },
      'forest-farms': {
        title: 'Forest Farms',
        content: 'Specialized agricultural centers on the forested islands that cultivate unique plants and herbs with magical properties. These farms use traditional methods that work in harmony with the magical ecosystem.'
      },
      'smugglers-island': {
        title: 'Smuggler\'s Island',
        content: 'A notorious haven for those operating outside the law, this island serves as a black market hub where rare and sometimes forbidden goods are traded. The island's complex cave systems provide countless hiding spots and escape routes.'
      },
      'fire-islands': {
        title: 'Fire Islands',
        content: 'A volcanic archipelago to the west, characterized by active lava flows and geothermal activity. The inhabitants have adapted to harness the immense heat energy, creating unique technologies and crafts.'
      },
      'hells-end': {
        title: 'Hell\'s End',
        content: 'The foreboding western continent, named for its harsh conditions and dangerous terrain. The coastline is rocky and treacherous, making navigation difficult for all but the most experienced sailors.'
      },
      'hells-gate': {
        title: 'Hell\'s End Gate Capital',
        content: 'The fortress-like capital of the western continent, built to withstand the harsh environment. Its massive walls and towers serve both as protection from natural dangers and as a military stronghold.'
      },
      
      // Sky regions
      'sky-palace': {
        title: 'Sky Palace',
        content: 'A magnificent floating structure above the Seaside Capital, serving as the residence for the world\'s elite and seat of aerial governance. Advanced technology and possibly magic keep this massive palace aloft permanently.'
      },
      'moon-palace': {
        title: 'Moon Palace',
        content: 'An ethereal floating castle above the Magic Islands, where the most powerful mages reside and conduct their arcane research. The structure appears to glow with an inner light, especially during nighttime.'
      },
      'the-belt': {
        title: 'The Belt',
        content: 'A ring-shaped floating platform above Smuggler\'s Island that serves as both a watchtower and a secondary trading post. Its strategic position allows for monitoring of maritime traffic while remaining separate from the activities below.'
      },
      
      // Space regions
      'space-farms': {
        title: 'Space Farms',
        content: 'Orbital agricultural platforms located beyond the atmosphere, utilizing the unlimited solar energy and unique conditions of space to grow specialized crops. These massive structures are technological marvels, sustaining life in the vacuum of space.'
      },
      
      // Underground regions
      'mines': {
        title: 'Mines',
        content: 'Vast underground complexes beneath the Industrial Area where precious materials are extracted from the earth. The mining operations extend deep below the surface, with numerous tunnels and chambers following rich veins of minerals.'
      },
      'sewers': {
        title: 'Sewers',
        content: 'The extensive network beneath the Seaside Capital, where industrial and urban waste has created an ecosystem of mutant flora and fauna. These mutated organisms have adapted to thrive in the toxic environment.'
      },
      'cave-system': {
        title: 'Cave Islands System',
        content: 'An intricate network of underwater and underground passages connecting Smuggler\'s Island to various hidden locations. These natural caves have been expanded and reinforced to serve as secret transportation routes.'
      },
      'atlantis': {
        title: 'Atlantis',
        content: 'A magnificent underwater city beneath the Magic Islands and surrounding waters, home to an advanced aquatic civilization. The city is encased in transparent domes that keep the water out while allowing views of the marine environment.'
      }
    };
    
    // Interactive elements - highlight regions on hover and show info
    function setupInteractiveRegions() {
      // Surface Layer
      setupRegionInteraction(document.querySelector('#surface-layer path:nth-child(2)'), 'vertical-farm');
      setupRegionInteraction(document.querySelector('#surface-layer path:nth-child(3)'), 'hells-end');
      setupRegionInteraction(document.querySelector('#surface-layer circle:nth-child(4)'), 'magic-islands');
      
      // Forest Islands
      const forestIslands = document.querySelectorAll('#surface-layer circle:nth-child(5), #surface-layer circle:nth-child(6), #surface-layer circle:nth-child(7), #surface-layer circle:nth-child(8), #surface-layer circle:nth-child(9)');
      forestIslands.forEach(island => {
        setupRegionInteraction(island, 'forest-islands');
      });
      
      setupRegionInteraction(document.querySelector('#surface-layer circle:nth-child(10)'), 'smugglers-island');
      
      // Cave Islands
      const caveIslands = document.querySelectorAll('#surface-layer circle:nth-child(11), #surface-layer circle:nth-child(12), #surface-layer circle:nth-child(13)');
      caveIslands.forEach(island => {
        setupRegionInteraction(island, 'cave-system');
      });
      
      // Fire Islands
      const fireIslands = document.querySelectorAll('#surface-layer circle:nth-child(14), #surface-layer circle:nth-child(15), #surface-layer circle:nth-child(16)');
      fireIslands.forEach(island => {
        setupRegionInteraction(island, 'fire-islands');
      });
      
      setupRegionInteraction(document.querySelector('#surface-layer path:nth-child(17)'), 'vertical-farm');
      setupRegionInteraction(document.querySelector('#surface-layer path:nth-child(18)'), 'industrial-area');
      setupRegionInteraction(document.querySelector('#surface-layer circle:nth-child(19)'), 'seaside-capital');
      
      // Sky Layer
      setupRegionInteraction(document.querySelector('#sky-layer #sky-palace'), 'sky-palace');
      setupRegionInteraction(document.querySelector('#sky-layer #moon-palace'), 'moon-palace');
      setupRegionInteraction(document.querySelector('#sky-layer #the-belt'), 'the-belt');
      
      // Space Layer
      setupRegionInteraction(document.querySelector('#space-layer #space-farms'), 'space-farms');
      
      // Underground Layer
      setupRegionInteraction(document.querySelector('#underground-layer #mines'), 'mines');
      setupRegionInteraction(document.querySelector('#underground-layer #sewers'), 'sewers');
      setupRegionInteraction(document.querySelector('#underground-layer #cave-system'), 'cave-system');
      setupRegionInteraction(document.querySelector('#underground-layer #atlantis'), 'atlantis');
    }
    
    function setupRegionInteraction(element, regionKey) {
      if (!element) return;
      
      const infoPanel = document.getElementById('info-panel');
      const infoTitle = document.querySelector('.info-title');
      const infoContent = document.querySelector('.info-content');
      
      element.addEventListener('mouseenter', () => {
        if (regionInfo[regionKey]) {
          infoTitle.textContent = regionInfo[regionKey].title;
          infoContent.textContent = regionInfo[regionKey].content;
          infoPanel.style.display = 'block';
          
          // Highlight the region
          element.setAttribute('data-original-stroke', element.getAttribute('stroke'));
          element.setAttribute('data-original-stroke-width', element.getAttribute('stroke-width'));
          element.setAttribute('stroke', '#ff0');
          element.setAttribute('stroke-width', '3');
        }
      });
      
      element.addEventListener('mouseleave', () => {
        infoPanel.style.display = 'none';
        
        // Restore original appearance
        element.setAttribute('stroke', element.getAttribute('data-original-stroke'));
        element.setAttribute('stroke-width', element.getAttribute('data-original-stroke-width'));
      });
    }
    
    // Initialize interactive regions
    setupInteractiveRegions();
    
    // Initial state is surface layer
    switchLayer('surface');